{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "messaging Domain Contract",
	"description": "Auto-generated contract for messaging feature",
	"definitions": {
		"MessageRead": {
			"properties": {
				"body": {
					"type": "string",
					"title": "Body"
				},
				"id": {
					"type": "string",
					"format": "uuid",
					"title": "Id"
				},
				"thread_id": {
					"type": "string",
					"format": "uuid",
					"title": "Thread Id"
				},
				"sender_id": {
					"anyOf": [
						{
							"type": "string",
							"format": "uuid"
						},
						{
							"type": "null"
						}
					],
					"title": "Sender Id"
				},
				"created_at": {
					"type": "string",
					"format": "date-time",
					"title": "Created At"
				},
				"sender_name": {
					"anyOf": [
						{
							"type": "string"
						},
						{
							"type": "null"
						}
					],
					"title": "Sender Name"
				}
			},
			"type": "object",
			"required": ["body", "id", "thread_id", "sender_id", "created_at"],
			"title": "MessageRead"
		},
		"ThreadDetail": {
			"properties": {
				"subject": {
					"type": "string",
					"title": "Subject"
				},
				"id": {
					"type": "string",
					"format": "uuid",
					"title": "Id"
				},
				"organization_id": {
					"type": "string",
					"format": "uuid",
					"title": "Organization Id"
				},
				"patient_id": {
					"anyOf": [
						{
							"type": "string",
							"format": "uuid"
						},
						{
							"type": "null"
						}
					],
					"title": "Patient Id"
				},
				"created_at": {
					"type": "string",
					"format": "date-time",
					"title": "Created At"
				},
				"updated_at": {
					"type": "string",
					"format": "date-time",
					"title": "Updated At"
				},
				"last_message": {
					"anyOf": [
						{
							"$ref": "#/components/schemas/MessageRead"
						},
						{
							"type": "null"
						}
					]
				},
				"unread_count": {
					"type": "integer",
					"title": "Unread Count",
					"default": 0
				},
				"participants": {
					"items": {
						"$ref": "#/components/schemas/ParticipantRead"
					},
					"type": "array",
					"title": "Participants",
					"default": []
				},
				"messages": {
					"items": {
						"$ref": "#/components/schemas/MessageRead"
					},
					"type": "array",
					"title": "Messages",
					"default": []
				}
			},
			"type": "object",
			"required": [
				"subject",
				"id",
				"organization_id",
				"patient_id",
				"created_at",
				"updated_at"
			],
			"title": "ThreadDetail"
		},
		"ThreadCreate": {
			"properties": {
				"subject": {
					"type": "string",
					"title": "Subject"
				},
				"organization_id": {
					"type": "string",
					"format": "uuid",
					"title": "Organization Id"
				},
				"patient_id": {
					"anyOf": [
						{
							"type": "string",
							"format": "uuid"
						},
						{
							"type": "null"
						}
					],
					"title": "Patient Id"
				},
				"initial_message": {
					"type": "string",
					"title": "Initial Message"
				},
				"participant_ids": {
					"items": {
						"type": "string",
						"format": "uuid"
					},
					"type": "array",
					"title": "Participant Ids"
				}
			},
			"type": "object",
			"required": [
				"subject",
				"organization_id",
				"initial_message",
				"participant_ids"
			],
			"title": "ThreadCreate"
		},
		"HTTPValidationError": {
			"properties": {
				"detail": {
					"items": {
						"$ref": "#/components/schemas/ValidationError"
					},
					"type": "array",
					"title": "Detail"
				}
			},
			"type": "object",
			"title": "HTTPValidationError"
		},
		"ThreadRead": {
			"properties": {
				"subject": {
					"type": "string",
					"title": "Subject"
				},
				"id": {
					"type": "string",
					"format": "uuid",
					"title": "Id"
				},
				"organization_id": {
					"type": "string",
					"format": "uuid",
					"title": "Organization Id"
				},
				"patient_id": {
					"anyOf": [
						{
							"type": "string",
							"format": "uuid"
						},
						{
							"type": "null"
						}
					],
					"title": "Patient Id"
				},
				"created_at": {
					"type": "string",
					"format": "date-time",
					"title": "Created At"
				},
				"updated_at": {
					"type": "string",
					"format": "date-time",
					"title": "Updated At"
				},
				"last_message": {
					"anyOf": [
						{
							"$ref": "#/components/schemas/MessageRead"
						},
						{
							"type": "null"
						}
					]
				},
				"unread_count": {
					"type": "integer",
					"title": "Unread Count",
					"default": 0
				},
				"participants": {
					"items": {
						"$ref": "#/components/schemas/ParticipantRead"
					},
					"type": "array",
					"title": "Participants",
					"default": []
				}
			},
			"type": "object",
			"required": [
				"subject",
				"id",
				"organization_id",
				"patient_id",
				"created_at",
				"updated_at"
			],
			"title": "ThreadRead"
		},
		"MessageCreate": {
			"properties": {
				"body": {
					"type": "string",
					"title": "Body"
				}
			},
			"type": "object",
			"required": ["body"],
			"title": "MessageCreate"
		},
		"ValidationError": {
			"properties": {
				"loc": {
					"items": {
						"anyOf": [
							{
								"type": "string"
							},
							{
								"type": "integer"
							}
						]
					},
					"type": "array",
					"title": "Location"
				},
				"msg": {
					"type": "string",
					"title": "Message"
				},
				"type": {
					"type": "string",
					"title": "Error Type"
				}
			},
			"type": "object",
			"required": ["loc", "msg", "type"],
			"title": "ValidationError"
		},
		"ThreadListResponse": {
			"properties": {
				"items": {
					"items": {
						"$ref": "#/components/schemas/ThreadRead"
					},
					"type": "array",
					"title": "Items"
				},
				"total": {
					"type": "integer",
					"title": "Total"
				},
				"page": {
					"type": "integer",
					"title": "Page"
				},
				"size": {
					"type": "integer",
					"title": "Size"
				}
			},
			"type": "object",
			"required": ["items", "total", "page", "size"],
			"title": "ThreadListResponse"
		}
	}
}
